<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    
    
    <meta name="description" content="  &lt;center&gt;      # 2020: The Year of the Linux Desktop - Moving from Macbook to Linux      &lt;/center&gt; ">
    
    
    
    <meta property="og:title" content="2020: The Year of the Linux Desktop - Moving from Macbook to Linux - HedgeDoc">
    
    
    
    <meta property="og:type" content="website">
    
    <meta property="og:image" content="https://docs.monadical.com/icons/android-chrome-512x512.png">
    <meta property="og:image:alt" content="HedgeDoc logo">
    <meta property="og:image:type" content="image/png">
    
    <base href="">
    <title>2020: The Year of the Linux Desktop - Moving from Macbook to Linux - HedgeDoc</title>
    <link rel="apple-touch-icon" sizes="180x180" href="https://docs.monadical.com/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://docs.monadical.com/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://docs.monadical.com/icons/favicon-16x16.png">
<link rel="manifest" href="https://docs.monadical.com/icons/site.webmanifest">
<link rel="mask-icon" href="https://docs.monadical.com/icons/safari-pinned-tab.svg" color="#b51f08">
<link rel="shortcut icon" href="https://docs.monadical.com/icons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="HedgeDoc - Collaborative markdown notes">
<meta name="application-name" content="HedgeDoc - Collaborative markdown notes">
<meta name="msapplication-TileColor" content="#b51f08">
<meta name="msapplication-config" content="https://docs.monadical.com/icons/browserconfig.xml">
<meta name="theme-color" content="#b51f08">

    <link rel="stylesheet" href='https://docs.monadical.com/build/emojify.js/dist/css/basic/emojify.min.css'>
    <link href="https://docs.monadical.com/build/font-pack.51d576c9ea0a7705d2e0.css" rel="stylesheet"><link href="https://docs.monadical.com/build/2.04010c738e6d668e6e08.css" rel="stylesheet"><link href="https://docs.monadical.com/build/3.b67314821de89ccff48b.css" rel="stylesheet"><link href="https://docs.monadical.com/build/pretty-styles-pack.6437be263d7329017dfe.css" rel="stylesheet"><link href="https://docs.monadical.com/build/pretty-styles.8aa1888af7df52aee395.css" rel="stylesheet"><link href="https://docs.monadical.com/build/1.1666d9d869a0532d9bce.css" rel="stylesheet"><link href="https://docs.monadical.com/build/pretty.0424d40e7df68caf04c5.css" rel="stylesheet">
</head>

<body style="display:none;">
    <div class="ui-infobar container-fluid unselectable hidden-print">
        <small>
            <span>
                
                    <span class="ui-lastchangeuser">&thinsp;<i class="ui-user-icon small" style="background-image: url(https://cdn.libravatar.org/avatar/631905653495f361dd947f36c21f56fb?default=identicon&s=96);" data-toggle="tooltip" data-placement="right" title="maiya"></i></span>
                
                &nbsp;<span class="text-uppercase ui-status-lastchange"></span>
                <span class="ui-lastchange text-uppercase" data-createtime="Mon Aug 24 2020 16:16:53 GMT+0000 (Coordinated Universal Time)" data-updatetime="Tue Aug 25 2020 15:38:30 GMT+0000 (Coordinated Universal Time)"></span>
            </span>
            <span class="pull-right">47851 views <a href="https://docs.monadical.com/#" class="ui-edit" title="Edit this note"><i class="fa fa-fw fa-pencil"></i></a></span>
            <br>
            
        </small>
    </div>
    <div id="doc" class="container markdown-body" >

&lt;center&gt;
    
# 2020: The Year of the Linux Desktop - Moving from Macbook to Linux
    
&lt;/center&gt;




Finally. [The year of the Linux desktop](https://www.reddit.com/r/linux/comments/3038d4/when_was_the_first_year_of_the_linux_desktop/) has arrived. After many years of using Macbook Pros, I’m finally saying “Enough!”. 

I have a great 2010-2012 Macbook Pro that still rocks. But in 2014, I decided to buy a mid-2014 model and after only two years, it started falling apart. First, one of the speakers started sounding tinny. Then the power plug port pins burnt out. Then, just after the warranty expired, came [staingate](https://en.wikipedia.org/wiki/Staingate): the anti-reflective coating started to peel off, staining large portions of the screen. I dug around on the internets for advice and solved the problem by rubbing the film off the glass with metal polish. A few months later, the other speaker went the way of the first, and the power plug port pins burnt out again. Finally, the screen started to flicker (and it wasn&#39;t the LVDS display cable). 

Enough!!

![MacBook with stained screen](https://docs.monadical.com/uploads/upload_b1855534d988e8257e0daffe3567dab9.png)



I still like the look and feel of the macOS, but with Apple downgrading its hardware (but still keeping those Apple prices!), the problems just kept stacking up. I couldn’t justify it anymore. So, after doing some research, I decided to go back to Linux on a Lenovo and tweak it to make it as similar as possible to what I was used to on macOS. Here’s my guide for how to improve the Linux desktop experience


[TOC]

## Distro 

There are many flavours of Linux: Mint, Manjaro, Ubuntu, Debian… Most major distros will do the job, however, some of them come with useful out-of-the-box features. Two are especially worth mentioning: 

1. [Pop OS](https://pop.system76.com/)

This distro not only stands out for not being loaded with crapware (unnecessary, probably useless software), it also has its own distro version to manage Nvidia [video cards](https://en.wikipedia.org/wiki/Video_card). Nvidia cards are usually a headache for Linux users, since some cards only work with signed proprietary drivers. And once you manage to get the card working, your pain isn’t over: you’ll find out you&#39;ve given birth to a power hog and your battery won&#39;t last. The latest Pop OS allows you to just turn off the GPU [without manually blacklisting modules](https://www.reddit.com/r/pop_os/comments/cu4au4/fix_battery_life_with_nvidia_gpu_mx250_on_lenovo/) and use the onboard card or operate in hybrid mode. There’s no need for [ACPI table hacks](https://major.io/2020/01/24/disable-nvidia-gpu-thinkpad-t490/) or [vgaswitcheroo](https://01.org/linuxgraphics/gfx-docs/drm/gpu/vga-switcheroo.html). The ability to turn off the GPU is integrated into the desktop. One click, finito. It also includes a simple tiling manager that can be turned on and off at will with a single click.
    
    
2. [Fedora](https://getfedora.org/en/workstation/download/)

Fedora does a [great job](https://fedoraproject.org/wiki/Changes/ImprovedLaptopBatteryLife) with [power consumption](https://www.youtube.com/watch?v=mypteFGjwH4) and the latest version (32) works well out-of-the-box. With Fedora, many new features, such as [Wayland](https://wayland.freedesktop.org/), become available sooner than they do with other major distros. The troubles with Docker are mostly [gone](https://fedoramagazine.org/docker-and-fedora-32/).


## Battery life


Battery life has always been a nightmare with Linux laptops. Fortunately, distros like Fedora, mentioned above, come with reasonable defaults so that laptops are more power efficient out-of-the-box. 

The old tools for optimizing battery life have evolved a lot—I’m talking about the duo [TLP](https://linrunner.de/tlp/) and [powertop](https://01.org/powertop/).

To optimize battery power, the first thing to do is to establish a baseline while running on battery power. I prefer to start measuring idle power consumption (discharge rate depends on workload). If Windows is available, [BatteryInfoView](https://www.nirsoft.net/utils/battery_information_view.html) is useful for setting a goal by looking at the charge/discharge rate value.

1. powertop: `sudo powertop -c` will calibrate the measurement and present an estimate.
2. [powerstat](https://github.com/ColinIanKing/powerstat): `sudo powerstat` will wait for a delay and take measurements over time to generate statistics.

If battery life is a major concern, for example, if you’re working away from a power source for the day, it’s better to be able to completely turn off the GPU. (The GPU consumes a lot of power and will run down your battery.) The section above on Pop OS contains some links and strategies for this. For Nvidia GPUs, the command `ndvia-smi` should confirm that the card is turned off. After turning off the GPU, set a new idle power consumption baseline.

[TLP and powertop can get along together](https://gvisoc.com/tech/linux/2020/04/26/Lenovo-ThinkPad-T490s-a-Battery-Review-under-Linux.html), however, it&#39;s better if only one of them is in charge. I usually start with TLP, check and modify settings using `sudo tlpui` and then check with `sudo powertop` to see if there’s any optimization that’s not turned on. With this new tweak I can establish a new baseline.

When you feel comfortable, you can start optimizing on your usual workload (browser + code editor + bluetooth headset, etc). Powertop is handy here.


Some power hogs to watch out for:

- Docker, containerd (switch them to on demand)
- Browser tabs with misconfigured ads, mining, flash, etc.
- Social networks (they are constantly polling or receiving socket events)
- Unused interfaces (use `sudo ifdown interface_name down` to turn them off)
- Any disk indexer
- Monitoring software
- Daemons checking for updates, file modifications, and syncs

To get some extra milliwatts, you can try correcting throttling (if necessary) and undervolting. If undervolting is used, it’s advisable to test it on your usual workload and try to suspend and unsuspend the laptop to test for stability. It’s typical to undervolt identically on the CPU and cache.

- https://github.com/erpalma/throttled
- https://github.com/kitsunyan/intel-undervolt
- https://github.com/georgewhewell/undervolt

Battery lifespan

For some Lenovo laptops, TLP allows you to set a different charge/discharge threshold so that the battery won&#39;t charge while it operates in the threshold band. This will prolong the battery lifespan. 

## Scaling 

Screen scaling out-of-the-box on Linux usually sucks since it tends to make the elements tiny. To correct the scaling, a common solution for Gnome users is to install the tweaks package:

```bash
sudo apt install gnome-tweaks
gnome-tweaks
```

and then go to the Fonts panel and adjust the scaling factor to between 1.4 and 1.5 for a similar scaling to a Macbook Pro.

## Mouse

After switching from a Macbook Pro, your new trackpad can feel awful.You might need to experiment on your own with what feels right to you, but I found that after using it for a few days, I got comfortable with this adaptive profile of Gnome tweaks:

1. Open `gnome-tweaks`
2. Keyboard &amp; mouse panel
3. Acceleration profile: choose adaptive
4. Check disable while typing
5. Check mouse click emulation: fingers

## CTRL Key

Most of the shortcuts are the same on Linux, but instead of the Command key you use the Control key. I prefer macOS shortcuts so I remapped the keys using `gnome-tweaks`.

1. Go to Keyboard &amp; Mouse Panel
2. Click on Additional Layout Options
3. Find Alt/Win Key Behavior
4. Check: CTRL is mapped to Alt; Alt is mapped to Win.

A full working solution is to use [kinto](https://github.com/rbreaves/kinto).

If more options are needed, you might need to use `xmodmap` or `kinto`.

http://xahlee.info/linux/linux_xmodmap_tutorial.html
https://github.com/rbreaves/kinto

## Shortcuts 

If you don&#39;t use [kinto](https://github.com/rbreaves/kinto), you can set shortcuts up manually.

Since I’ve been using Macbooks for so long, I’m used to Apple shortcuts. In Gnome-based systems you can manually configure or import shortcuts [using this script](https://gist.github.com/jdcaballerov/2fcfb817e332e290bf0943d57b8b4bfc) from [askubuntu](https://askubuntu.com/questions/26056/where-are-gnome-keyboard-shortcuts-stored).

To export key bindings:

`./keybindings.pl -e /tmp/keys.csv`

To import:

`./keybindings.pl -i /tmp/keys.csv`

[You can find my bindings here](https://gist.github.com/jdcaballerov/9d08ff82b701cd5b54c70f1a9f651ef7).

Since Alt was remapped, window related shortcuts should bind to Control. I use some other shortcuts included with my bindings to try to match my [spectacle](https://www.spectacleapp.com/) profile on macOS.

## Multitouch Gestures

You can use [Fusuma](https://github.com/iberianpig/fusuma) to enable your Linux to recognize swipes or pinches and assign commands.



## Gifs and screenshots  (peek and flameshot)
Making screenshots and Gifs is easy and seamless on MacOS. To replicate these streamlined processes, I suggest the following:

**Screencast**

```bash
sudo apt-get install appmenu-gtk2-module appmenu-gtk3-module

git clone https://github.com/lolilolicon/xrectsel.git
sudo apt-install autoconf
./bootstrap

```

```bash
#!/usr/bin/env sh

[ $# -lt 2 ] &amp;&amp; \
  echo &#39;You have to pass a duration in seconds and a filename: &#34;gif.sh 10 /tmp/record.gif&#34;&#39; &amp;&amp; \
  exit 1

byzanz-record                                        \
  --cursor                                           \
  --verbose                                          \
  --delay=2                                          \
  --duration=&#34;${1}&#34;                                    \
  &#34;$(xrectsel &#34;--x=%x --y=%y --width=%w --height=%h&#34;)&#34; \
  &#34;${2}&#34;
```

From: https://github.com/lupoDharkael/flameshot/issues/172#issuecomment-466657937


## Emoji Keyboard

The emoji keyboard shortcut can collide with some text editors as vscode—since it is configured as `shift+ctrl+e`—so it needs to be changed. To change it, open `ibus-setup` and remap it so that it won&#39;t collide.

## Clipboard Manager

For a very simple clipboard manager, I use clipit. 

`sudo apt install clipit`

## Password Manager

[KeepassXC](https://keepassxc.org/download/#linux) can import 1password files and many others.


## xournal

To annotate and sign PDFs, Apple&#39;s preview works amazingly well. On Linux, [xournal](https://github.com/xournalpp/xournalpp)
can accomplish pretty much the same thing.

___


As Apple continues to downgrade the quality of its hardware (to match its pricey, disposable adaptors), we need to look for other options. These steps will give you a much better user experience—comparable to that of macOS—on a Gnome-based desktop on Linux. 

Please feel free to  contribute your own tips and tweaks! You can send your contributions to [this Github repository](https://github.com/jdcaballerov/YOTLD/). 

</div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="https://docs.monadical.com/#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="display:none;"></div>
    
</body>

</html>
<script src="https://docs.monadical.com/js/mathjax-config-extra.js"></script>
<script src="https://docs.monadical.com/build/MathJax/MathJax.js" defer></script>
<script src="https://docs.monadical.com/build/MathJax/config/TeX-AMS-MML_HTMLorMML.js" defer></script>
<script src="https://docs.monadical.com/build/MathJax/config/Safe.js" defer></script>
<script src="https://docs.monadical.com/config"></script><script src="https://docs.monadical.com/build/vendors~common.deda981c1c31221a91d9.js" defer="defer"></script><script src="https://docs.monadical.com/build/common.6da413651c225dd97e7a.js" defer="defer"></script><script src="https://docs.monadical.com/build/vendors~cover~cover-pack~index~index-pack~pretty~pretty-pack~slide~slide-pack.897edf415109c21e7fb2.js" defer="defer"></script><script src="https://docs.monadical.com/build/vendors~index~index-pack~pretty~pretty-pack~slide~slide-pack.624da9bb49753eaa85e1.js" defer="defer"></script><script src="https://docs.monadical.com/build/pretty-pack.f314462a1d0ebb3b5365.js" defer="defer"></script>


